"use client";

import Image from "next/image";
import Link from "next/link";
import useScroll from "@/lib/hooks/use-scroll";
import { useSignInModal } from "./sign-in-modal";
import UserDropdown from "./user-dropdown";
import { Session } from "next-auth";

export default function NavBar({ session }: { session: Session | null }) {
  const { SignInModal, setShowSignInModal } = useSignInModal();
  const scrolled = useScroll(50);

  return (
    <>
      <SignInModal />
      <div
        className={`fixed top-0 w-full ${
          scrolled
            ? "border-gray-200 bg-white/50 backdrop-blur-xl"
            : "bg-white/0"
        } z-30 transition-all`}
      >
        <div
          style={{ maxWidth: 1080 }}
          className="mx-5 flex h-16 items-center justify-between xl:mx-auto"
        >
          <Link href="/" className="font-display flex items-center text-2xl">
            <svg
              width="110"
              height="86.94525787694965"
              viewBox="0 0 350 96.30012739535563"
            >
              <defs id="SvgjsDefs4440" />
              <g
                id="SvgjsG4441"
                transform="matrix(5.569701152082349,0,0,5.569701152082349,-3.3418108646396725,-16.542012581035003)"
                fill="#000"
              >
                <path d="M2.41 7.48 q0 -0.93 0.4 -1.75 t1.07 -1.435 t1.54 -0.97 t1.82 -0.355 l0.2 0 q0.34 0 0.525 0.205 t0.185 0.565 l0 1.91 q0 0.37 -0.195 0.615 t-0.515 0.245 l-0.2 0 q-0.21 0 -0.4 0.075 t-0.34 0.205 t-0.24 0.305 t-0.09 0.385 l0 1.15 l1.57 0 q0.34 0 0.525 0.185 t0.185 0.585 l0 1.83 q0 0.43 -0.185 0.63 t-0.525 0.2 l-1.57 0 l0 7.17 q0 0.38 -0.255 0.575 t-0.555 0.195 l-2.16 0 q-0.36 0 -0.575 -0.225 t-0.215 -0.545 l0 -7.17 l-1.03 0 q-0.35 0 -0.565 -0.2 t-0.215 -0.63 l0 -1.83 q0 -0.4 0.215 -0.585 t0.565 -0.185 l1.03 0 l0 -1.15 z M22.939999999999998 19.26 q0 0.17 -0.06 0.325 t-0.2 0.245 q-0.11 0.11 -0.26 0.14 t-0.26 0.03 l-1.97 0 q-0.21 0 -0.34 -0.055 t-0.21 -0.155 t-0.135 -0.245 t-0.115 -0.315 l-0.29 -0.75 q-0.27 0.27 -0.59 0.575 t-0.705 0.565 t-0.835 0.435 t-0.96 0.175 q-0.91 0 -1.745 -0.23 t-1.56 -0.655 t-1.315 -1.02 t-1.015 -1.325 t-0.655 -1.575 t-0.23 -1.765 q0 -1.39 0.51 -2.585 t1.39 -2.08 t2.07 -1.39 t2.55 -0.505 q0.62 0 1.14 0.185 t0.945 0.485 t0.77 0.68 t0.615 0.77 l0.39 -1.21 q0.1 -0.25 0.165 -0.405 t0.14 -0.23 t0.185 -0.1 t0.31 -0.025 l1.49 0 q0.11 0 0.26 0.03 t0.26 0.14 q0.14 0.11 0.2 0.25 t0.06 0.32 l0 11.27 z M13.09 13.66 q0 0.66 0.205 1.235 t0.585 0.995 t0.915 0.665 t1.185 0.245 q0.67 0 1.245 -0.245 t1 -0.665 t0.665 -0.995 t0.24 -1.235 q0 -0.64 -0.24 -1.22 t-0.665 -1.02 t-1 -0.695 t-1.245 -0.255 q-0.65 0 -1.185 0.255 t-0.915 0.695 t-0.585 1.02 t-0.205 1.22 z M25.6 7.470000000000001 q0.13 -0.11 0.275 -0.14 t0.275 -0.03 l1.51 0 q0.18 0 0.31 0.065 t0.22 0.175 t0.145 0.25 t0.105 0.29 l0.31 1.28 q0.15 -0.31 0.435 -0.705 t0.725 -0.74 t1.045 -0.58 t1.405 -0.235 q1.14 0 2.07 0.44 t1.585 1.2 t1.015 1.775 t0.36 2.165 l0 6.55 q0 0.38 -0.165 0.575 t-0.525 0.195 l-2.31 0 q-0.43 0 -0.59 -0.145 t-0.16 -0.565 l0 -6.51 q0 -0.43 -0.195 -0.815 t-0.515 -0.68 t-0.725 -0.465 t-0.825 -0.17 q-0.36 0 -0.735 0.16 t-0.69 0.445 t-0.53 0.67 t-0.245 0.835 l0 6.5 q0 0.17 -0.065 0.34 t-0.195 0.26 q-0.13 0.08 -0.245 0.11 t-0.265 0.03 l-2.26 0 q-0.43 0 -0.62 -0.21 t-0.19 -0.56 l0 -11.19 q0 -0.19 0.085 -0.35 t0.235 -0.25 z M41.690000000000005 16.05 q0.27 0.27 0.585 0.455 t0.605 0.3 t0.51 0.165 t0.3 0.05 q0.19 0 0.485 -0.015 t0.565 -0.09 t0.465 -0.245 t0.195 -0.48 q0 -0.28 -0.11 -0.445 t-0.32 -0.28 t-0.515 -0.205 t-0.685 -0.21 q-1.2 -0.32 -1.98 -0.77 t-1.235 -1.005 t-0.635 -1.195 t-0.18 -1.35 q0 -0.83 0.33 -1.51 t0.94 -1.165 t1.46 -0.75 t1.89 -0.265 q0.63 0 1.18 0.105 t1.05 0.33 t0.975 0.58 t0.945 0.845 q0.17 0.2 0.175 0.375 t-0.225 0.375 q-0.39 0.32 -0.745 0.63 t-0.735 0.69 q-0.12 0.1 -0.24 0.125 t-0.23 -0.005 t-0.21 -0.1 t-0.18 -0.17 q-0.35 -0.39 -0.8 -0.525 t-0.84 -0.135 q-0.49 0 -0.78 0.17 t-0.27 0.52 q0.02 0.26 0.195 0.405 t0.43 0.235 t0.54 0.145 t0.525 0.125 q0.9 0.29 1.65 0.63 t1.3 0.835 t0.855 1.185 t0.305 1.68 t-0.395 1.77 t-1.085 1.31 t-1.635 0.81 t-2.035 0.28 q-0.62 0 -1.26 -0.11 t-1.24 -0.355 t-1.14 -0.63 t-0.96 -0.935 q-0.11 -0.14 -0.165 -0.295 t-0.05 -0.305 t0.06 -0.275 t0.175 -0.215 l1.29 -1.29 q0.24 -0.2 0.425 -0.14 t0.475 0.34 z M62.010000000000005 18.48 q-0.88 0.81 -1.98 1.265 t-2.33 0.455 q-1.37 0 -2.59 -0.5 t-2.14 -1.385 t-1.46 -2.085 t-0.54 -2.61 q0 -0.88 0.215 -1.705 t0.61 -1.545 t0.96 -1.325 t1.265 -1.035 t1.52 -0.67 t1.73 -0.24 q0.83 0 1.61 0.22 t1.465 0.62 t1.255 0.96 t0.98 1.225 t0.635 1.42 t0.225 1.555 q0 0.52 -0.015 0.85 t-0.155 0.525 t-0.465 0.27 t-0.955 0.075 l-7.2 0 q0.1 0.64 0.405 1.07 t0.705 0.685 t0.85 0.365 t0.85 0.11 q0.36 0 0.74 -0.075 t0.735 -0.2 t0.65 -0.29 t0.475 -0.345 q0.16 -0.13 0.275 -0.195 t0.245 -0.065 t0.265 0.09 t0.305 0.26 l1.06 1.2 q0.11 0.13 0.14 0.235 t0.03 0.215 q0 0.2 -0.11 0.345 t-0.26 0.255 z M57.2 10.15 q-0.39 0 -0.755 0.155 t-0.685 0.415 t-0.575 0.59 t-0.415 0.67 l5.11 0 q-0.21 -0.39 -0.455 -0.72 t-0.56 -0.58 t-0.72 -0.39 t-0.945 -0.14 z" />
              </g>
            </svg>
          </Link>
          <div>
         
            {session ? (
              <UserDropdown session={session} />
            ) : (
              <a
                className="rounded-full border border-black bg-black p-1.5 px-4 text-sm text-white transition-all hover:bg-white hover:text-black"
                href="https://test.connect.scrile.com/login"
                target="blank"
              >
                Sign In
              </a>
              
              
            )}
             
          </div>
        </div>
      </div>
    </>
  );
}
